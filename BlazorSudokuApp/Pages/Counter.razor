@inject Blazored.LocalStorage.ILocalStorageService localStorage
@page "/counter"

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count:@currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">+1</button>
<button class="btn btn-primary" @onclick="Reset">Reset</button>

@code {
    private int? currentCount;
    private async Task IncrementCount(){
    currentCount++;
    await localStorage.SetItemAsync("count", currentCount);
    }
    private async Task Reset(){
    currentCount = 0;
    await localStorage.SetItemAsync("count", currentCount);
    }
    protected override async Task OnInitializedAsync(){
    var result = await localStorage.GetItemAsync<int>("count");
    currentCount = result;
    }
}

